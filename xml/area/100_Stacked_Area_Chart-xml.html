<!doctype html>
<html>
<head>
    <!--Compiled JS-->
    <!--<script src="../../../out/anychart.min.js"></script>-->

    <!--Non Compiled JS-->
    <script src="../../../contrib/closure-library/closure/goog/base.js"></script>
    <script src="../../../src/deps.js"></script>
    <script>
    goog.require('anychart.modules.anychart');
    </script>
    <script>
        anychart.onDocumentReady(function() {
            var xml = '<?xml version="1.0" encoding="utf-8"?>' +
                '<anychart xmlns="http://anychart.com/products/anychart7/schemas/7.3.0/schema.xsd">' +
                        '<chart type="area" container="container" title="100% Stacked Area Chart">' +
                            '<y_scale stack_mode="percent">' +
                                '<ticks interval="10"/>' +
                            '</y_scale>' +
                            '<x_axes>' +
                                '<axis>' +
                                    '<title>' +
                                        '<margin bottom="20"/>' +
                                        '<padding right="15"/>' +
                                    '</title>' +
                                '</axis>' +
                            '</x_axes>' +
                            '<series_list>' +
                                '<series>' +
                                    '<data>' +
                                        '<point x="P1" value="162"/>' +
                                        '<point x="P2" value="134"/>' +
                                        '<point x="P3" value="116"/>' +
                                        '<point x="P4" value="122"/>' +
                                        '<point x="P5" value="178"/>' +
                                        '<point x="P6" value="144"/>' +
                                        '<point x="P7" value="125"/>' +
                                        '<point x="P8" value="176"/>' +
                                        '<point x="P9" value="156"/>' +
                                        '<point x="P10" value="176"/>' +
                                        '<point x="P11" value="215"/>' +
                                        '<point x="P13" value="167"/>' +
                                        '<point x="P14" value="142"/>' +
                                        '<point x="P15" value="117"/>' +
                                        '<point x="P16" value="113"/>' +
                                        '<point x="P17" value="132"/>' +
                                        '<point x="P18" value="146"/>' +
                                        '<point x="P19" value="169"/>' +
                                        '<point x="P20" value="184"/>' +
                                    '</data>' +
                                    '<markers enabled="true" type="circle" size="3"/>' +
                                    '<hover_markers enabled="true" type="circle" size="3"/>' +
                                '</series>' +
                                '<series>' +
                                    '<data>' +
                                        '<point x="P1" value="142"/>' +
                                        '<point x="P2" value="154"/>' +
                                        '<point x="P3" value="126"/>' +
                                        '<point x="P4" value="132"/>' +
                                        '<point x="P5" value="168"/>' +
                                        '<point x="P6" value="154"/>' +
                                        '<point x="P7" value="135"/>' +
                                        '<point x="P8" value="166"/>' +
                                        '<point x="P9" value="188"/>' +
                                        '<point x="P10" value="136"/>' +
                                        '<point x="P11" value="115"/>' +
                                        '<point x="P13" value="147"/>' +
                                        '<point x="P14" value="172"/>' +
                                        '<point x="P15" value="137"/>' +
                                        '<point x="P16" value="123"/>' +
                                        '<point x="P17" value="134"/>' +
                                        '<point x="P18" value="146"/>' +
                                        '<point x="P19" value="159"/>' +
                                        '<point x="P20" value="144"/>' +
                                    '</data>' +
                                    '<markers enabled="true" type="circle" size="3"/>' +
                                    '<hover_markers enabled="true" type="circle" size="3"/>' +
                                '</series>' +
                                '<series color="#EEEE25">' +
                                    '<data>' +
                                        '<point x="P1" value="122"/>' +
                                        '<point x="P2" value="144"/>' +
                                        '<point x="P3" value="116"/>' +
                                        '<point x="P4" value="162"/>' +
                                        '<point x="P5" value="148"/>' +
                                        '<point x="P6" value="194"/>' +
                                        '<point x="P7" value="145"/>' +
                                        '<point x="P8" value="136"/>' +
                                        '<point x="P9" value="118"/>' +
                                        '<point x="P10" value="166"/>' +
                                        '<point x="P11" value="155"/>' +
                                        '<point x="P13" value="137"/>' +
                                        '<point x="P14" value="152"/>' +
                                        '<point x="P15" value="177"/>' +
                                        '<point x="P16" value="183"/>' +
                                        '<point x="P17" value="144"/>' +
                                        '<point x="P18" value="166"/>' +
                                        '<point x="P19" value="189"/>' +
                                        '<point x="P20" value="134"/>' +
                                    '</data>' +
                                '</series>' +
                            '</series_list>' +
                        '</chart>' +
                    '</anychart>';

            //using fill function we can create a pretty gradient for the series
            //note that we using series sourceColor here, which can be configured separately for each series by 'color' method
            var fillFunction = function() {
                return {
                    keys: [
                        {offset: 0, color: this.sourceColor},
                        {offset: 1, color: anychart.color.darken(this.sourceColor)}
                    ], angle: -90, opacity: 1
                };
            };

            var chart = anychart.fromXml(xml);
            chart.getSeries(0).fill(fillFunction);
            chart.getSeries(1).fill(fillFunction);
            chart.getSeries(2).fill(fillFunction);

            //set yAxis labels formatting, force it to add % to values
            chart.yAxis().labels().textFormatter(function(info) {
                return info.value + '%';
            });

            chart.draw();
        });
    </script>
</head>
<body>
<div id="container" style="border: 1px solid; width: 800px; height: 600px;"></div>
</body>
</html>
