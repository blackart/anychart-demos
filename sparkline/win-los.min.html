<html>
<head>
    <script src='../../out/anychart.min.js'></script>
</head>
<body>
<script>
    anychart.onDocumentLoad(function() {
        var t1 = [1, -1, 1, 1, -1, 1, 1, 1, -1, 1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, 1, -1, 1, -1, -1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, 1, -1, 1];
        var t2 = [-1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, -1, -1, 1, -1, -1, 1, -1];
        var t3 = [1, 1, 1, -1, 1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, 1, 1, 1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1, 1];
        var t4 = [1, -1, 1, 1, 1, -1, 1, -1, -1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, -1];
        var t5 = [-1, 1, -1, 1, 1, -1, 1, -1, -1, 1, -1, -1, -1, -1, 1, 1, 1, -1, 1, -1, -1, -1, -1, 1, 1, 1, 1, -1, 1, 1, 1, 1, -1, -1, -1, -1, -1, 1];
        var t6 = [-1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, -1, 1, 1, -1, 1, 1, -1, 1, 1];
        var t7 = [-1, 1, -1, 1, 1, -1, -1, -1, -1, -1, 1, 1, 1, -1, 1, -1, 1, -1, 1, 1, 1, -1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, 1, 1, 1, -1, -1, 1];
        var t8 = [-1, 1, 1, -1, 1, 1, 1, -1, 1, 1, -1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, -1, 1, -1, -1, -1, -1, -1, 1, -1];
        var t9 = [1, -1, 1, 1, -1, 1, -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, -1, -1, 1, -1, -1, -1];
        var t10 = [1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, -1, -1, -1, 1, 1, 1, 1, -1, -1, 1, -1, -1, 1, -1, -1, 1, -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1];
        var t11 = [1, 1, -1, -1, -1, -1, 1, -1, -1, 1, -1, -1, -1, 1, -1, -1, 1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, 1, -1, -1];
        var t12 = [-1, 1, -1, -1, 1, 1, -1, 1, -1, -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1, 1, -1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, -1, 1, -1, -1, -1, 1];
        var t13 = [1, -1, -1, 1, -1, -1, -1, -1, -1, 1, 1, -1, 1, 1, -1, -1, -1, 1, -1, -1, -1, 1, -1, -1, -1, 1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, 1, -1];
        var t14 = [-1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, -1, -1, 1, 1, 1, -1, -1, -1, 1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1];
        var t15 = [-1, 1, 1, 1, 1, 1, -1, 1, -1, -1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, -1, -1, -1, -1, -1, -1, -1, 1, -1, 1];
        var t16 = [-1, -1, -1, -1, -1, -1, -1, 1, -1, -1, 1, -1, -1, -1, 1, 1, -1, 1, 1, -1, -1, -1, 1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, -1, 1, 1, -1, -1];
        var t17 = [-1, -1, -1, -1, -1, -1, 1, -1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, -1, -1, 1, 1, -1, 1, -1, -1, -1, -1, -1, 1, -1, -1, 1, -1, 1, 1, -1];
        var t18 = [-1, -1, -1, 1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, -1, 1, -1, -1, -1, 1, -1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, -1, -1];
        var t19 = [1, -1, -1, -1, 1, 1, -1, 1, -1, 1, -1, -1, 1, -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, -1, -1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, -1, -1, -1];
        var t20 = [-1, -1, -1, -1, -1, -1, -1, 1, -1, -1, 1, -1, -1, -1, 1, -1, -1, 1, -1, -1, 1, -1, -1, -1, -1, -1, -1, 1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1];

        var table = anychart.ui.table();
        table.container('container');
        table.bounds('5%', '5%', '90%', '90%');


        table.contents([
            ['Team', null, 'W', 'L', 'History', 'Percent'],
            ['1.', 'Liverpool', getWins(t1), getLoses(t1), createWinLoss(t1), getPercent(t1)],
            ['2.', 'Fulham', getWins(t2), getLoses(t2), createWinLoss(t2), getPercent(t2)],
            ['3.', 'Chelsea', getWins(t3), getLoses(t3), createWinLoss(t3), getPercent(t3)],
            ['4.', 'Man United', getWins(t4), getLoses(t4), createWinLoss(t4), getPercent(t4)],
            ['5.', 'Bolton', getWins(t5), getLoses(t5), createWinLoss(t5), getPercent(t5)],
            ['6.', 'Blackburn', getWins(t6), getLoses(t6), createWinLoss(t6), getPercent(t6)],
            ['7.', 'Wigan Athletic', getWins(t7), getLoses(t7), createWinLoss(t7), getPercent(t7)],
            ['8.', 'West Ham United', getWins(t8), getLoses(t8), createWinLoss(t8), getPercent(t8)],
            ['9.', 'Charlton', getWins(t9), getLoses(t9), createWinLoss(t9), getPercent(t9)],
            ['10.', 'Arsenal', getWins(t10), getLoses(t10), createWinLoss(t10), getPercent(t10)],
            ['11.', 'Sunderland', getWins(t11), getLoses(t11), createWinLoss(t11), getPercent(t11)],
            ['12.', 'Aston Villa', getWins(t12), getLoses(t12), createWinLoss(t12), getPercent(t12)],
            ['13.', 'Tottenham', getWins(t13), getLoses(t13), createWinLoss(t13), getPercent(t13)],
            ['14.', 'Everton', getWins(t14), getLoses(t14), createWinLoss(t14), getPercent(t14)],
            ['15.', 'West Bromwich', getWins(t15), getLoses(t15), createWinLoss(t15), getPercent(t15)],
            ['16.', 'Portsmouth', getWins(t16), getLoses(t16), createWinLoss(t16), getPercent(t16)],
            ['17.', 'Middlesbrough', getWins(t17), getLoses(t17), createWinLoss(t17), getPercent(t17)],
            ['18.', 'Newcastle', getWins(t18), getLoses(t18), createWinLoss(t18), getPercent(t18)],
            ['19.', 'Birmingham City', getWins(t19), getLoses(t19), createWinLoss(t19), getPercent(t19)],
            ['20.', 'Manchester City', getWins(t20), getLoses(t20), createWinLoss(t20), getPercent(t20)]
        ]);
        table.cellBorder('none');
        table.cellFill('#EEEEEE');
        table.cellOddFill('#FFF');

        setupColProp(table, 0, ['content', 'hAlign'], 'center');
        setupColProp(table, 2, ['content', 'hAlign'], 'center');
        setupColProp(table, 3, ['content', 'hAlign'], 'center');
        setupColProp(table, 4, ['content', 'hAlign'], 'center');
        setupColProp(table, 5, ['content', 'hAlign'], 'center');

        setupColProp(table, 0, 'padding', 6);
        setupColProp(table, 1, 'padding', 6);
        setupColProp(table, 2, 'padding', 6);
        setupColProp(table, 3, 'padding', 6);
        setupColProp(table, 4, 'padding', 2);
        setupColProp(table, 5, 'padding', 6);

        table.getCell(0, 0).colSpan(2);
        table.getCell(0, 4).padding(6);

        table.colWidth(0, 40);
        table.colWidth(1, 120);
        table.colWidth(2, 40);
        table.colWidth(3, 40);
        table.colWidth(4, 200);
        table.colWidth(5, 70);

        table.getCell(0, 0).fill('#CC3300');
        table.getCell(0, 2).fill('#CC3300');
        table.getCell(0, 3).fill('#CC3300');
        table.getCell(0, 4).fill('#CC3300');
        table.getCell(0, 5).fill('#CC3300');

        table.getCell(0, 0).padding(4);
        table.getCell(0, 2).padding(4);
        table.getCell(0, 3).padding(4);
        table.getCell(0, 4).padding(4);
        table.getCell(0, 5).padding(4);

        table.getCell(0, 0).content().fontColor('white').fontFamily('arial').fontWeight('bold').fontSize('12px');
        table.getCell(0, 2).content().fontColor('white').fontFamily('arial').fontWeight('bold').fontSize('12px');
        table.getCell(0, 3).content().fontColor('white').fontFamily('arial').fontWeight('bold').fontSize('12px');
        table.getCell(0, 4).content().fontColor('white').fontFamily('arial').fontWeight('bold').fontSize('12px');
        table.getCell(0, 5).content().fontColor('white').fontFamily('arial').fontWeight('bold').fontSize('12px');

        table.getCell(0, 5).border('1px black');
        table.getCell(0, 4).border('1px black');

        table.draw();


        function createWinLoss(array) {
            var chart = anychart.sparkline(array);
            chart.type('winLoss');
            chart.margin(0);
            chart.padding(0);
            return chart;
        }

        function getWins(array) {
            var wins = 0;
            for (var i = 0, count = array.length - 1; i < count; i++) {
                if (array[i] > 0) wins++;
            }
            return wins;
        }

        function getLoses(array) {
            var loses = 0;
            for (var i = 0, count = array.length - 1; i < count; i++) {
                if (array[i] < 0) loses++;
            }
            return loses;
        }

        function getPercent(array) {
            var wins = 0;
            var total = array.length;
            for (var i = 0, count = array.length - 1; i < count; i++) {
                if (array[i] > 0) wins++;
            }
            return Math.round(wins / total * 100) + '%';
        }

        function setupColProp(table, colIndex, propNameOrChain, propValueOrArray, opt_startFrom) {
            // if passed column index is out of passed table - exit
            if (colIndex >= table.colsCount()) return;
            // normalize propNameOrChain to an array handle in one way
            if (typeof propNameOrChain == 'string') propNameOrChain = [propNameOrChain];
            // cache last chain index
            var chainLastIndex = propNameOrChain.length - 1;
            for (var i = (opt_startFrom == undefined) ? 0 : opt_startFrom; i < table.rowsCount(); i++) {
                // get the cell
                var prop = table.getCell(i, colIndex);
                // pass over the cell to the last but one property
                for (var j = 0; j < chainLastIndex; j++) {
                    var name = propNameOrChain[j];
                    if (name in prop)
                        prop = prop[name]();
                    else
                        prop = null;
                    if (!prop) break;
                }
                var lastName = propNameOrChain[chainLastIndex];
                // if property getter returns null, or there is no such property to call, we skip the cell
                if (!prop || !(lastName in prop)) continue;
                // a way to check if propValueOrArray is an array - if it is, we call apply to pass all array elements to a setter
                if (propValueOrArray != null && typeof propValueOrArray != 'string' && typeof propValueOrArray.length == 'number')
                    prop[lastName].apply(prop, propValueOrArray);
                // or just call the setter with one parameter
                else
                    prop[lastName](propValueOrArray);
            }
        }
    });
</script>
<div id='container'
     style='position: absolute; left: 0; top: 0; border: 0 solid; width: 100%; height: 600px; float: left;'></div>
</body>
</html>
