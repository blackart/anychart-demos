<html>
<head>
    <meta http-equiv="Content-Type" content="text/plain; charset=utf-8">
    <meta name="x-cat-tags" content="anyStock actualBugJson actualBugXml "/>

    <script src="../../libs/closure-library/closure/goog/base.js"></script>
    <script src="../../src/deps.js"></script>
    <link href="../../out/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <script>
      goog.require("anychart.bundle.entry");
      goog.require("anychart.themes.defaultTheme.entry");
      window.ACDVF = true;
    </script>
    <script src="utils/anytest.min.js"></script>


</head>
<body>
<div id="container"></div>
</body>
<script>
  var chart;
  anychart.onDocumentLoad(function() {
    anytest.setUp(600, 500);
    anychart.format.locales = {
      'default':anychart.format.locales['default'],
      'ru':{
        'dateTimeLocale': {
          'eras': ['до нашей эры', 'нашей эры'],
          'erasNames': ['до нашей эры', 'нашей эры'],
          'narrowMonths': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
          'standaloneNarrowMonths': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10',
            '11', '12'],
          'months': ['Января', 'Февраля', 'Марта', 'Апреля', 'Май', 'Июня', 'Июля', 'Августа',
            'Сентября', 'Октября', 'Ноября', 'Декабря'],
          'standaloneMonths': ['январь', 'февраль', 'март', 'апрель', 'май', 'июнь', 'июль',
            'август', 'сентябрь', 'октябрь', 'ноябрь', 'декабрь'],
          'shortMonths': ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг',
            'сен', 'окт', 'ноя', 'дек'],
          'standaloneShortMonths': ['январь', 'февраль', 'март', 'апрель', 'май', 'июнь',
            'июль', 'август', 'сентябрь', 'октябрь', 'ноябрь', 'декабрь'],
          'weekdays': ['воскресение', 'понедельник', 'вторник', 'среда', 'четверг',
            'пятница', 'суббота'],
          'standaloneWeekdays': ['воскресение', 'понедельник', 'вторник', 'среда',
            'четверг', 'пятница', 'суббота'],
          'shortWeekdays': ['воск', 'пон', 'вт', 'ср', 'четв', 'пятн', 'суб'],
          'standaloneShortWeekdays': ['Воск', 'Пон', 'Вт', 'Ср', 'Четв', 'Пятн', 'Суб'],
          'narrowWeekdays': ['воскресение', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'],
          'standaloneNarrowWeekdays': ['Воскресение', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
          'shortQuarters': ['Q1', 'Q2', 'Q3', 'Q4'],
          'quarters': ['Первый квартал', 'Второй квартал', 'Третий квартал',
            'Четвёртый квартал'],
          'ampms': ['утро', 'после полудня']
        },
        'numberLocale': {
          'decimalsCount': 2,
          'decimalPoint': '.',
          'groupsSeparator': '',
          'scale': false,
          'zeroFillDecimals': false,
          'scaleSuffixSeparator': ''
        }}
    };
    data = [
      ['1991.май/01 12:34:11','2004.01-02', 10452.7402, 10554.96, 10367.4102, 10409.8496, 1153200000],
      ['1991.май/01 12:35:11','2004.01-05', 10411.8496, 10575.9199, 10411.8496, 10544.0703, 1578200064],
      ['1991.май/01 12:36:11','2004.01-06', 10543.8496, 10584.0703, 10454.3701, 10538.6602, 1494499968],
      ['1991.май/01 12:37:11','2004.01-07', 10535.46, 10587.5498, 10432, 10529.0303, 1704899968],
      ['1991.май/01 12:38:11','2004.01-08', 10530.0703, 10651.9902, 10480.5898, 10592.4404, 1868400000],
      ['1991.май/01 12:39:11','2004.01-09', 10589.25, 10603.4805, 10420.5195, 10458.8896, 1720700032],
      ['1991.май/01 12:40:11','2004.01-12', 10461.5498, 10543.0303, 10389.8496, 10485.1797, 1510200064],
      ['1991.май/01 12:41:11','2004.01-13', 10485.1797, 10539.25, 10341.1904, 10427.1797, 1595900032],
      ['1991.май/01 12:45:11','2004.01-14', 10428.6699, 10573.8496, 10426.8896, 10538.3701, 1514599936],
      ['1991.май/01 12:55:11','2004.01-15', 10534.5195, 10639.0303, 10454.5195, 10553.8496, 1695000064],
      ['1991.май/01 12:56:11','2004.01-16', 10556.3701, 10666.8799, 10503.7002, 10600.5098, 1721100032],
      ['1991.май/01 12:57:11','2004.01-20', 10601.4004, 10676.96, 10447.9199, 10528.6602, 1698200064],
      ['1991.май/01 12:58:11','2004.01-21', 10522.7695, 10665.7002, 10453.1104, 10623.6201, 1757600000],
      ['1991.май/01 12:59:11','2004.01-22', 10624.2197, 10717.4004, 10545.0303, 10623.1797, 1693699968],
      ['1991.май/01 13:00:11','2004.01-23', 10625.25, 10691.7695, 10490.1396, 10568.29, 1561200000],
      ['1991.май/01 13:01:17','2004.01-26', 10568, 10725.1797, 10510.4404, 10702.5098, 1480600064],
      ['1991.май/01 13:02:11','2004.01-27', 10701.0996, 10748.8096, 10579.3301, 10609.9199, 1673100032],
      ['1991.май/01 13:03:21','2004.01-28', 10610.0703, 10703.25, 10412.4404, 10468.3701, 1842000000],
      ['1991.май/01 13:04:54','2004.01-29', 10467.4102, 10611.5596, 10369.9199, 10510.29, 1921900032],
      ['1991.май/01 13:05:11','2004.01-30', 10510.2197, 10551.0303, 10385.5596, 10488.0703, 1635000064],
      ['1991.май/01 13:06:11','2004.02-02', 10487.7803, 10614.4404, 10395.5498, 10499.1797, 1599200000],
      ['1991.май/01 13:07:11','2004.02-03', 10499.4805, 10571.4805, 10414.1504, 10505.1797, 1476899968],
      ['1991.май/01 13:08:12','2004.02-04', 10503.1104, 10567.8496, 10394.8096, 10470.7402, 1634800000],
      ['1991.май/01 13:09:11','2004.02-05', 10469.3301, 10566.3701, 10399.9199, 10495.5498, 1566599936],
      ['1991.май/01 13:10:11','2004.02-06', 10494.8896, 10634.8096, 10433.7002, 10593.0303, 1477600000],
      ['1991.май/01 13:11:11','2004.02-09', 10592, 10634.8096, 10433.7002, 10579.0303, 1303500032],
      ['1991.май/01 13:12:11','2004.02-10', 10578.7402, 10667.0303, 10511.1797, 10613.8496, 1403900032],
      ['1991.май/01 13:13:11','2004.02-11', 10605.4805, 10779.4004, 10561.5498, 10737.7002, 1699299968],
      ['1991.май/01 13:14:11','2004.02-12', 10735.1797, 10775.0303, 10636.4404, 10694.0703, 1464300032],
      ['1991.май/01 13:15:11','2004.02-13', 10696.2197, 10755.4697, 10578.6602, 10627.8496, 1329200000],
      ['1991.май/01 13:16:11','2004.02-17', 10628.8799, 10762.0703, 10628.8799, 10714.8799, 1396499968],
      ['1991.май/01 13:17:11','2004.02-18', 10706.6797, 10764.3604, 10623.6201, 10671.9902, 1382400000],
      ['1991.май/01 13:18:11','2004.02-19', 10674.5898, 10794.9502, 10626.4404, 10664.7305, 1562800000],
      ['1991.май/01 13:19:11','2004.02-20', 10666.29, 10722.7695, 10559.1104, 10619.0303, 1479600000],
      ['1991.май/01 13:20:11','2004.02-23', 10619.5498, 10711.8398, 10508.8896, 10609.6201, 1380400000],
      ['1991.май/01 13:21:11','2004.02-24', 10609.5498, 10681.4004, 10479.3301, 10566.3701, 1543600000],
      ['1991.май/01 13:22:11','2004.02-25', 10566.5898, 10660.7305, 10509.4004, 10601.6201, 1360700032],
      ['1991.май/01 13:23:11','2004.02-26', 10598.1396, 10652.96, 10493.7002, 10580.1396, 1383900032],
      ['1991.май/01 13:24:11','2004.02-27', 10581.5498, 10689.5498, 10519.0303, 10583.9199, 1540400000],
      ['1991.май/01 13:25:11','2004.03-01', 10582.25, 10720.1396, 10568.7402, 10678.1396, 1497100032],
      ['1991.май/01 13:26:11','2004.03-02', 10678.3604, 10713.9199, 10539.4004, 10591.4805, 1476000000],
      ['1991.май/01 13:35:11','2004.03-03', 10588.5898, 10651.0303, 10506.6602, 10593.1104, 1334499968],
      ['1991.май/01 13:36:11','2004.03-04', 10593.4805, 10645.3301, 10522.5898, 10588, 1265799936],
      ['1991.май/01 13:37:11','2004.03-05', 10582.5898, 10681.4004, 10497.1104, 10595.5498, 1398200064],
      ['1991.май/01 13:38:11','2004.03-08', 10595.3701, 10677.8496, 10505.8496, 10529.4805, 1254400000],
      ['1991.май/01 13:39:11','2004.03-09', 10529.5195, 10567.0303, 10391.4805, 10456.96, 1499399936],
      ['1991.май/01 13:40:11','2004.03-10', 10457.5898, 10523.1104, 10259.3398, 10296.8896, 1648400000],
      ['1991.май/01 13:41:11','2004.03-11', 10288.8496, 10356.2197, 10102.75, 10128.3799, 1889900032],
      ['1991.май/01 13:42:11','2004.03-12', 10130.6699, 10281.6299, 10097.04, 10240.0801, 1388499968],
      ['1991.май/01 13:43:11','2004.03-15', 10238.4502, 10252.6797, 10066.0801, 10102.8896, 1600600064],
      ['1991.май/01 13:44:11','2004.03-16', 10103.4102, 10253.2598, 10085.3398, 10184.6699, 1500700032],
      ['1991.май/01 13:45:11','2004.03-17', 10184.2998, 10356.5898, 10184.2998, 10300.2998, 1490099968],
      ['1991.май/01 13:46:11','2004.03-18', 10298.96, 10355.04, 10187.7803, 10295.7803, 1369200000],
      ['1991.май/01 13:47:11','2004.03-19', 10295.8496, 10355.4102, 10163.71, 10186.5996, 1457400064],
      ['1991.май/01 13:48:11','2004.03-22', 10185.9297, 10185.9297, 9985.1904, 10064.75, 1452300032],
      ['1991.май/01 13:49:11','2004.03-23', 10066.6699, 10177.04, 10020.75, 10063.6396, 1458200064],
      ['1991.май/01 13:50:11','2004.03-24', 10065.4102, 10140.2305, 9975.8604, 10048.2305, 1527800064],
      ['1991.май/01 13:51:11','2004.03-25', 10049.5596, 10246.1504, 10049.5596, 10218.8203, 1471699968]
    ];

    var dataTable = anychart.data.table(1, 'yyyy.MM-dd', 8);
    var dataTable1 = anychart.data.table(0, 'yyy.MMMM/dd HH:mm:ss', 1, Date.UTC(1991, 4, 1), 'ru');

    dataTable.addData(data);
    dataTable1.addData(data);


    var mapping1 = dataTable.mapAs();
    mapping1.addField('open', 2, 'first');
    mapping1.addField('high', 3, 'max');
    mapping1.addField('close', 5, 'last');
    mapping1.addField('low', 4, 'min');

    var mapping2 = dataTable1.mapAs({value: 2});

    chart = anychart.stock();
    chart.plot().ohlc(mapping1);
    chart.plot().xAxis()
        .minorLabels().enabled(true);
    chart.plot().xAxis().ticks()
        .enabled(true).stroke('red');
    chart.plot().xAxis().minorTicks()
        .enabled(true);

    chart.plot(1).line(mapping2);

    anytest.drawInStage(chart);
    anytest.stageListen().charts4modes("chart");
    stage.resume();
  });
</script>
</html>