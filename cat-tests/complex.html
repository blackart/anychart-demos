<html>
<head>
    <meta http-equiv="Content-Type" content="text/plain; charset=utf-8">
    <meta charset="UTF-8"/>
    <meta name="x-cat-tags" content="anyStock actualBugJson actualBugXml"/>

<script src="../../libs/closure-library/closure/goog/base.js"></script>
<script src="../../src/deps.js"></script>
<link href="../../out/anychart-ui.min.css" type="text/css" rel="stylesheet">
<script>
    goog.require("anychart.bundle.entry");
    goog.require("anychart.themes.defaultTheme.entry");
    window.ACDVF = true;
</script>
<script src="utils/anytest.min.js"></script>


    <script src="http://tests.anychart.com/static/sessions/5603/branch/out/local-cdn/dji-daily-short.js" data-export="true"></script>
</head>
<body>
<div id="container"></div>
</body>
<script>
    var chart;
    anychart.onDocumentReady(function() {
        anytest.setUp(600, 500);
        var dataTable = anychart.data.table();
        dataTable.addData(get_dji_daily_short_data());

        var mapping = dataTable.mapAs();
        mapping.addField('value', 4);

        chart = anychart.stock();
        chart.padding(10, 10, 10, 50);

        var Plot = chart.plot();
        var series = Plot.column(mapping);
        series.risingFill('pink');

        var scroll = chart.scroller().height(100);
        var mma = scroll.mma(mapping, 20, 'stepLine');

        // anytest.asserts.equal(mma.series().seriesType(), 'column', true);
        // anytest.asserts.equal(mma.period(), 20, true);

        anytest.drawInStage(chart);

        anytest.stageListen(function() {
            // anytest.step(function(){
            //     anytest.CAT.getScreen();
            // });
            // anytest.step(function(){
            //     mma.series('marker');
            //     anytest.asserts.equal(mma.series().seriesType(), 'marker', true);
            //     anytest.CAT.getScreen('mmaMarker', -1);
            // });
            // anytest.step(function(){
            //     mma.period(5);
            //     anytest.asserts.equal(mma.period(), 5, true);
            //     anytest.CAT.getScreen('mmaPeriod5', -1, 'mmaMarker');
            // });
            // anytest.step(function(){
            //     mma.period(10);
            //     anytest.asserts.equal(mma.period(), 10, true);
            //     anytest.CAT.getScreen('mmaPeriod10', -1, 'mmaPeriod5');
            // });
            // anytest.step(function(){
            //     mma.series('column');
            //     mma.period(20);
            //     anytest.CAT.getScreen('backToInitialState', 1);
            // });
            anytest.exit();
        }).charts4modes('chart');
        stage.resume();
        /*<< methods
         anychart.core.stock.Scroller.mma
         >>*/
    });
</script>
</html>