<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="[]"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>


    <!--<script src="../../../out/anychart-bundle.min.js"></script>-->


    <script src="../../../libs/closure-library/closure/goog/base.js"></script>
    <script src="../../../src/deps.js"></script>
    <script>
        goog.require('anychart.themes.defaultTheme');
        goog.require('anychart.modules.anymap');
    </script>
    <script src="../../../proj4.js"></script>



    <script src="https://cdn.anychart.com/geodata/1.1.0/countries/italy/italy.js" data-export="true"></script>
    <script src="https://cdn.anychart.com/js/utils/style_installer.min.js" data-export="true"></script>
    <script src="//code.jquery.com/jquery-1.12.0.min.js" data-export="true"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js" data-export="true"></script>
    <script x-export="map">

        // Variables to use in this sample
        var image_link = "http://cdn.anychart.com/images/italy/";
        var city_architecture_color = '#64b5f6';
        var park_landscape_color = '#1976d2';
        var museum_gallery_color = '#ef6c00';
        var religious_site_color = '#ffd54f';
        var city_architecture_marker = {fill: city_architecture_color, stroke: '#4a82af', type: 'star5'};
        var park_landscape_marker = {fill: park_landscape_color, stroke: '#1a5a99', type: 'triangleUp'};
        var museum_gallery_marker = {fill: museum_gallery_color, stroke: '#ad540a', type: 'star4'};
        var religious_site_marker = {fill: religious_site_color, stroke: '#c0a54f', type: 'diamond'};

        anychart.onDocumentReady(function() {
            var container = document.getElementById('container');
            container.innerHTML = '<div id="zoom"><span class="zoom-item zoom-in"></span><span class="zoom-item zoom-out"></span></div><h1>Top 30 Places to Visit in Italy<br/><span class="text">According to <a href="http://www.tripadvisor.com/Attractions-g187768-Activities-Italy.html">Tripadvisor.com</a><br/>(Pictures and description were taken from <a href="http://wikipedia.org">Wikipedia.org</a>)</span></h1><div class="line"><div id="map-container"></div><div id="info"><h2 id="sight-title"></h2><img id="sight-image"/><p class="important"> Number <b id="sight-number"></b> to visit in Italy<br/>Rating <b id="sight-rating"></b> by <b id="sight-reviews"></b> reviews </p><p class="text" id="sight-description"></p></div></div>';

            // helper function - puts data about the sigh to the div
            var showSightData = function(index, series_index) {
                var item_data = sightsData[series_index].sights[index];
                if (item_data) {
                    document.getElementById('sight-image').setAttribute("src", image_link + item_data['id'] + '.jpg');
                    document.getElementById('sight-title').innerHTML = item_data['name'];
                    document.getElementById('sight-number').innerHTML = item_data['id'];
                    document.getElementById('sight-rating').innerHTML = item_data['rating'];
                    document.getElementById('sight-reviews').innerHTML = item_data['reviews'];
                    document.getElementById('sight-description').innerHTML = item_data['desc'];
                }
            };

            // draw map chart of Italy
            var drawMapChart = function() {
                // define settings for maps regions (regions bounds are not relevant for this data, so let's make it less contrast)
                var customTheme = {"map": {'unboundRegions': {'enabled': true, 'fill': '#E1E1E1', 'stroke': '#D2D2D2'}}};
                anychart.theme(customTheme);

                // create map chart
                map = anychart.map();
                map.padding(10, 0, 20, 0);
                // set geodata using http://cdn.anychart.com/geodata/1.1.0/countries/france/france.js
                map.geoData(anychart.maps.italy);
                map.interactivity().selectionMode("singleSelect");

                // helper function - creates point series for different type of sights
                var createSightSeries = function(data, type, name){
                    var series = map.marker(anychart.data.set(data));
                    series.size(5);
                    series.type(type);
                    series.name(name);
                    var pr = acgraph.vector.primitives;
                    series.legendItem({'iconType': function(path, size) {
                        pr[type](path, size / 2, size / 2, size / 2)
                    }});
                    series.tooltip({padding: [8, 13, 10, 13]});
                    series.tooltip().title().enabled(false);
                    series.tooltip().separator().enabled(false);
                    series.tooltip().useHtml(true).fontSize(14).textFormatter(function() {
                        return '<span>' + this.getDataValue('name') + '</span><br/>' +
                                '<span style="font-size: 12px; color: #E1E1E1">Rating <b>' + this.getDataValue('rating') + '</b> by <b>' + this.getDataValue('reviews').toLocaleString() + '</b> reviews</span>';
                    });
                };

                //create point series for sights
                createSightSeries(sightsData[0].sights, 'star5', 'City Architecture');
                createSightSeries(sightsData[1].sights, 'triangleUp', 'Parks and landscapes');
                createSightSeries(sightsData[2].sights, 'star4', 'Museums and Galleries');
                createSightSeries(sightsData[3].sights, 'diamond', 'Religious sites');

                //create marker series for cities
                var series_cities = map.marker(anychart.data.set(citiesData));
                series_cities.name('Cities');
                series_cities.labels().enabled(true)
                        .anchor('center')
                        .position('center')
                        .offsetX(0)
                        .offsetY(0)
                        .textFormatter(function() {
                            return this.getDataValue('name');
                        });

                //hide markers for this series and this series from legend, leave only labels on map
                series_cities.size(5);
                series_cities.hoverSize(5);
                series_cities.selectionMode("none");
                series_cities.tooltip().enabled(false);
                series_cities.legendItem(null);

                map.legend().enabled(true).padding(0, 0, 20, 0);
                map.listen('pointsSelect', function(evt) {
                    if (!evt.currentPoint.selected) return;
                    if (evt.currentTarget.series != series_cities) {
                        showSightData(evt.currentPoint.index, evt.currentPoint.series.index());
                    }
                });

//                map.getSeries(0).select(0);
                showSightData(0, 0);
                map.container('map-container').draw();
            };

            drawMapChart();
            $('.zoom-in').click(function(){map.zoom(1.3)});
            $('.zoom-out').click(function(){map.zoom(0.7)});

            // install styles for low resolution devices
            anychart.installStyles('body{font-family:Verdana,\'Helvetica Neue\',Arial,Helvetica,Geneva,sans-serif;color:#212121;}#container h1,h2{font-size:18px;color:#212121;font-weight:normal;text-align:center;line-height:18px;}#container h1{padding-top:15px;padding-bottom:15px;margin:0;border-bottom:4px solid #eaeaea;}h2{font-size:16px;line-height:18px;text-align:left;}.text{color:#545f69;font-size:12px;margin: 10px 0 0 0;}.important{color:#545f69;font-size:13px;margin:10px 0 0 0;}a{color:#428bca;cursor:pointer;text-decoration:none;}a:hover{text-decoration:underline;}#container{width:100%;height:100%;margin:0auto;max-width:1200px;position:relative;}.line{position:absolute;top:90px;bottom:0;left:20px;right:20px;}#map-container{position:absolute;top:0;bottom:0;left:0;right:320px;}#info{position:absolute;top:0;bottom:0;width:300px;right:0;}#sight-image{width:300px;height:200px;display:block;padding:0 10px 0 0;}#zoom{position:absolute;z-index:10;top:120px;left:30px;width:25px;height:100px;}.zoom-item{display:block;width:25px;height:25px;margin-bottom:5px;background:url(\'http://cdn.anychart.com/images/italy/zoom.png\')no-repeat;cursor:pointer;}.zoom-fit{background-position:-27pxtop;margin-bottom:15px;}.zoom-fit:hover{background-position:left top;}.zoom-in{background-position:-27px -28px;}.zoom-in:hover{background-position:left -28px;}.zoom-out{background-position:-27px -55px;}.zoom-out:hover{background-position:left -55px;}@media(max-width:747px){.line{position:static;padding:0 20px;}#map-container{position:static;height:400px;}#info{position:static;height:auto;width:100%;}}');
        });

        //// Cities data for the sample
        var citiesData = [
            {name: "Rome", lat: 41.897964, long: 12.493373},
            {name: "Milan", lat: 45.28, long: 9.11},
            {name: "Venice", lat: 45.2615, long: 12.2019},
            {name: "Matera", lat: 40.40, long: 16.36},
            {name: "Florence", lat: 43.47, long: 11.15},
            {name: "Assisi", lat: 43.0433, long: 12.3703},
            {name: "Siena", lat: 43.1907, long: 11.1950},
            {name: "Naples", lat: 40.846314, long: 14.252618},
            {name: "Lampedusa", lat: 35.514131, long: 12.588630},
            {name: "Ravenna", lat: 44.25, long: 12.12},
            {name: "Trieste", lat: 45.642741, long: 13.778463},
            {name: "Monreale", lat: 34.0454, long: 13.1720},
            {name: "Syracuse", lat: 37.05, long: 15.17}
        ];

        // Sights data for the Sample
        var sightsData = [
            {type: 'city_architecture', sights: [
                {id: "1", city:'Rome', name: "Colosseum", lat: "41.890154", long: "12.492553", rating: "4.5", reviews: "56134", desc: "Construction began under the emperor Vespasian in 72 AD, and was completed in 80 AD under his successor and heir Titus. The Colosseum could hold, it is estimated, between 50,000 and 80,000 spectators, having an average audience of some 65,000; it was used for gladiatorial contests and public spectacles such as mock sea battles, animal hunts, executions, re-enactments of famous battles, and dramas based on Classical mythology."},
                {id: "3", name: "Pantheon", lat: "41.898751", long: "12.476801", rating: "4.5", reviews: "30351", desc: "It is one of the best-preserved of all Ancient Roman buildings, in large part because it has been in continuous use throughout its history, and since the 7th century, the Pantheon has been used as a church dedicated to \"St. Mary and the Martyrs\""},
                {id: "7", name: "Piazzale Michelangelo", lat: "43.762993", long: "11.264831", rating: "4.5", reviews: "12617", desc: "Piazzale Michelangelo (Michelangelo Square) is a square with a panoramic view of Florence, Italy, located in the Oltrarno district of the city. This Florentine piazza was designed by architect Giuseppe Poggi and built in 1869 on a hill just south of the historic center, during the redevelopment of Oltrarno, the left (South) bank of the Arno river."},
                {id: "10", name: "Piazza del Campo", lat: "43.318366", long: "11.331562", rating: "5", reviews: "5545", desc: "Piazza del Campo is the principal public space of the historic center of Siena, Tuscany, Italy and is regarded as one of Europe's greatest medieval squares. It is renowned worldwide for its beauty and architectural integrity. The Palazzo Pubblico and its Torre del Mangia, as well as various palazzi signorili surround the shell-shaped piazza. At the northwest edge is the Fonte Gaia."},
                {id: "12", name: "Piazza della Signoria", lat: "43.769773", long: "11.255655", rating: "4.5", reviews: "8278", desc: "Piazza della Signoria (Italian pronunciation: [ˈpjattsa della siɲɲoˈriːa]) is an L-shaped square in front of the Palazzo Vecchio in Florence, Italy. It was named after the Palazzo della Signoria, also called Palazzo Vecchio. It is the focal point of the origin and of the history of the Florentine Republic and still maintains its reputation as the political hub of the city. It is the meeting place of Florentines as well as the numerous tourists."},
                {id: "13", name: "Doges' Palace", lat: "45.433724", long: "12.340431", rating: "4.5", reviews: "10695", desc: "The Doge's Palace (Italian: Palazzo Ducale) is a palace built in Venetian Gothic style, and one of the main landmarks of the city of Venice in northern Italy. The palace was the residence of the Doge of Venice, the supreme authority of the former Republic of Venice, opening as a museum in 1923. Today, it is one of the 11 museums run by the Fondazione Musei Civici di Venezia."},
                {id: "18", name: "Piazza del Duomo", lat: "43.773126", long: "11.255423", rating: "4.5", reviews: "7615", desc: "Piazza del Duomo (English: \"Cathedral Square\") is located in the heart of the historic center of Florence, (Tuscany - Italy). It is one of the most visited places in Europe and the world; here we can find the Florence Cathedral with the Cupola del Brunelleschi, the Giotto's Campanile, the Florence Baptistery, the Loggia del Bigallo, the Opera del Duomo Museum, and the Arcivescovile and Canonici's palace. The west zone of this square is called San Giovanni square."},
                {id: "22", name: "Piazza dell'Unita d'Italia", lat: "45.650114", long: "13.767623", rating: "5", reviews: "2930", desc: "Piazza Unità d'Italia is the main square in Trieste, a seaport city in northeast Italy. Located at the foot of the hill with the castle of San Giusto, the square faces the Adriatic Sea. It is often said to be Europe's largest square located next to the sea. The square was built during the period when Trieste was the most important seaport of the Austrian-Hungarian Empire and includes the city's municipal buildings and other important palaces."},
                {id: "28", name: "Centro Storico (Roma)", lat: "43.771321", long: "11.254568", rating: "5", reviews: "3568", desc: "Once you have visited the area of the Forum and the Colosseum, and the Vatican, the other really “big stuff” can be covered with a stroll through the cobbled side-streets of the historic centre. The Piazza Navona, Pantheon and the Trevi Fountain, as well as the Piazza Venezia, Via dei Fori Imperiali, Roman Forum"},
                {id: "29", name: "Città Alta, Bergamo", lat: "45.704982", long: "9.66312", rating: "4.5", reviews: "3075", desc: "The upper city, surrounded by Venetian walls built in the 16th century, forms the historic centre of Bergamo. Città Alta is an extremely expensive place to live in, with properties being sold for five to twelve thousand euro per square meter. This has numerous places of interest."}
            ]},
            {type: 'park_landscape', sights: [
                {id: "5", name: "The Grand Canal", lat: "45.436342", long: "12.332067", rating: "4.5", reviews: "19507", desc: "The Grand Canal is a canal in Venice, Italy. It forms one of the major water-traffic corridors in the city. Public transport is provided by water buses (Italian: vaporetti) and private water taxis, and many tourists explore the canal by gondola."},
                {id: "6", name: "Sassi di Matera", lat: "40.664589", long: "16.613863", rating: "5", reviews: "5369", desc: "The Sassi di Matera are ancient cave dwellings in the Italian city of Matera, Basilicata. Situated in the old town, they are composed of the Sasso Caveoso and the later Sasso Barisano."},
                {id: "15", name: "Lampedusa, Rabbit Beach", lat: "35.512982", long: "12.557883", rating: "5", reviews: "2541", desc: "Lampedusa is the largest island of the Italian Pelagie Islands in the Mediterranean Sea. The comune of Lampedusa e Linosa is part of the Sicilian province of Agrigento which also includes the smaller islands of Linosa and Lampione. It is the southernmost part of Italy and Italy's southernmost island. "},
                {id: "21", name: "Ortigia", lat: "37.060314", long: "15.293805", rating: "4.5", reviews: "4606", desc: "Ortygia (/ɔrˈtɪdʒɪə/; Italian: Ortigia) is a small island which is the historical centre of the city of Syracuse, Sicily. The island, also known as Città Vecchia (Old City), contains many historical landmarks. The name originates from the Ancient Greek ortyx (ὄρτυξ), which means \"Quail\"."}
            ]},
            {type: 'museum_gallery', sights: [
                {id: "11", name: "Museo Cappella Sansevero", lat: "40.84926", long: "14.25485", rating: "4.5", reviews: "6640", desc: "The Cappella Sansevero (also known as the Capella Sansevero de' Sangri or Pietatella) is a chapel located on Via Francesco de Sanctis 19, just northwest of the church of San Domenico Maggiore, in the historic center of Naples, Italy. The chapel is more properly named the Chapel of Santa Maria della Pietà, or the Pietatella. It contains works of art by some of the leading Italian artists of the 18th century."},
                {id: "14", name: "Cathedral of Santa Maria dei Fiore", lat: "43.773116", long: "11.257056", rating: "4.5", reviews: "11258", desc: "The Cattedrale di Santa Maria del Fiore is the main church of Florence, Italy. Il Duomo di Firenze, as it is ordinarily called, was begun in 1296 in the Gothic style with the design of Arnolfo di Cambio and completed structurally in 1436 with the dome engineered by Filippo Brunelleschi. The exterior of the basilica is faced with polychrome marble panels in various shades of green and pink bordered by white and has an elaborate 19th-century Gothic Revival façade by Emilio De Fabris."},
                {id: "16", name: "Accademia Gallery", lat: "43.777064", long: "11.259435", rating: "4.5", reviews: "16222", desc: "The Galleria dell'Accademia di Firenze, or \"Gallery of the Academy of Florence\", is an art museum in Florence, Italy. It is the home of Michelangelo's sculpture David. It also has other sculptures by Michelangelo and a collection of Renaissance paintings. It adjoins the Accademia di Belle Arti or academy of fine arts of Florence, but despite the name has no other connection with it."},
                {id: "19", name: "Galleria Borbonica", lat: "40.835319", long: "14.246267", rating: "5", reviews: "2922", desc: "The Bourbon Tunnel,Tunnel Borbonico or Bourbon Gallery is an ancient underground passage, constructed for military purposes to connect the Royal Palace to military barracks in Naples, Italy."},
                {id: "26", name: "Uffizi Gallery", lat: "43.767803", long: "11.25526", rating: "4.5", reviews: "13877", desc: "The Uffizi Gallery is a prominent art museum located adjacent to the Piazza della Signoria in central Florence, region of Tuscany, Italy. The building of Uffizi complex was begun by Giorgio Vasari in 1560 for Cosimo I de' Medici so as to accommodate the offices of the Florentine magistrates, hence the name uffizi, \"offices\". The construction was later continued by Alfonso Parigi and Bernardo Buontalenti and completed in 1581."}
            ]},
            {type: 'religious_site', sights: [
                {id: "2", name: "St. Peter's Basilica", lat: "41.902163", long: "12.453895", rating: "5", reviews: "15733", desc: "St. Peter's Basilica is an Italian Renaissance church in Vatican City, the papal enclave within the city of Rome. Designed principally by Donato Bramante, Michelangelo, Carlo Maderno and Gian Lorenzo Bernini, St. Peter's is the most renowned work of Renaissance architecture and one of the largest churches in the world."},
                {id: "4", name: "Milan Cathedral (Duomo)", lat: "45.464169", long: "9.192394", rating: "4.5", reviews: "22771", desc: "Milan Cathedral is the cathedral church of Milan. Dedicated to St Mary of the Nativity (Santa Maria Nascente), it is the seat of the Archbishop of Milan, currently Cardinal Angelo Scola. The Gothic cathedral took nearly six centuries to complete. It is the 5th-largest church in the world and the second largest in Italy."},
                {id: "8", name: "Basilica of Saint Francis of Assisi", lat: "43.074922", long: "12.605321", rating: "5", reviews: "4167", desc: "The Papal Basilica of St. Francis of Assisi (Italian: Basilica Papale di San Francesco, Latin: Basilica Sancti Francisci Assisiensis) is the mother church of the Roman Catholic Order of Friars Minor—commonly known as the Franciscan Order—in Assisi, a town of Umbria region in central Italy, where St. Francis was born and died. The basilica is one of the most important places of Christian pilgrimage in Italy."},
                {id: "9", name: "Siena Cathedral", lat: "43.317661", long: "11.328825", rating: "5", reviews: "1157", desc: "Siena Cathedral (Italian: Duomo di Siena) is a medieval church in Siena, Italy, dedicated from its earliest days as a Roman Catholic Marian church, and now dedicated to Santa Maria Assunta (Holy Mary, Our Lady of the Assumption).The cathedral itself was originally designed and completed between 1215 and 1263 on the site of an earlier structure."},
                {id: "17", name: "Basilica San Vitale", lat: "44.420568", long: "12.196331", rating: "5", reviews: "1586", desc: "The \"Basilica of San Vitale\" is a church in Ravenna, Italy, and one of the most important examples of early Christian Byzantine art and architecture in Europe. The building is styled an \"ecclesiastical basilica\" in the Roman Catholic Church, though it is not of architectural basilica form. It is one of eight Ravenna structures inscribed on the UNESCO World Heritage List."},
                {id: "20", name: "Arcibasilica di San Giovanni in Laterano", lat: "41.885861", long: "12.505564", rating: "4.5", reviews: "5020", desc: "The Papal Archbasilica of St. John in the Lateran (Italian: Arcibasilica Papale di San Giovanni in Laterano), commonly known as St. John Lateran Archbasilica, St. John Lateran Basilica, St. John Lateran, or just The Lateran Basilica, is the cathedral church of Rome and the official episcopal seat of the Bishop of Rome, the Roman Pontiff."},
                {id: "23", name: "Cathedral of Monreale", lat: "38.082194", long: "13.292589", rating: "5", reviews: "2490", desc: "The Cathedral of Monreale is one of the greatest extant examples of Norman architecture in the world. It was begun in 1174 by William II, and in 1182 the church, dedicated to the Assumption of the Virgin Mary, was, by a bull of Pope Lucius III, elevated to the rank of a metropolitan cathedral."},
                {id: "24", name: "Basilica di Santa Maria Maggiore", lat: "41.897538", long: "12.498558", rating: "4.5", reviews: "6368", desc: "The ancient basilica enshrines the venerated image of Salus Populi Romani, depicting the Blessed Virgin Mary as the health and protectress of the Roman people, which was granted a Canonical coronation by Pope Gregory XVI on 15 August 1838 accompanied by his Papal bull Cælestis Regina."},
                {id: "25", name: "Basilica di San Marco", lat: "45.434528", long: "12.339645", rating: "4.5", reviews: "12430", desc: "The Patriarchal Cathedral Basilica of Saint Mark (officially known in Italian as the Basilica Cattedrale Patriarcale di San Marco and commonly known as Saint Mark's Basilica) is the cathedral church of the Roman Catholic Archdiocese of Venice, northern Italy. It is the most famous of the city's churches and one of the best known examples of Italo-Byzantine architecture."},
                {id: "27", name: "Basilica San Miniato al Monte", lat: "43.759438", long: "11.264934", rating: "4.5", reviews: "3476", desc: "San Miniato al Monte (St. Minias on the Mountain) is a basilica in Florence, central Italy, standing atop one of the highest points in the city. It has been described as one of the finest Romanesque structures in Tuscany and one of the most scenic churches in Italy. There is an adjoining Olivetan monastery, seen to the right of the basilica when ascending the stairs."},
                {id: "30", name: "Cappella degli Scrovegni", lat: "45.4118", long: "11.879418", rating: "5", reviews: "2914", desc: "La cappella degli Scrovegni (The Scrovegni Chapel) is a church in Padua, Veneto, Italy. It contains a fresco cycle by Giotto, completed about 1305, that is one of the most important masterpieces of Western art. The nave measures 20,88 meters, is 8,41 meters wide and 12,65 meters high. The apse area is composed by a square area (4.49 meters deep and 4,31 meters wide) and by a penthagonal area (2,57 meters deep)."}
            ]}
        ];
    </script>
</head>
<body>
<div id="container"></div>
</body>
</html>
